[{"title":"STM32技术支持所遇常见问题","date":"2021-05-26T08:00:00.000Z","url":"/2021/05/26/%E4%B8%AA%E4%BA%BA%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/","tags":[["笔记","/tags/%E7%AC%94%E8%AE%B0/"]],"categories":[["STM32","/categories/STM32/"]],"content":"Could not open file ..\\obj\\sys.o: No such file or directory解决办法 3个可能的原因： **电脑系统用户名有中文字符 ** **MDK安装目录有中文字符或者空格存在 ** 环境变量有问题 仿真器烧写失败 ESP8266/2.4G无线模块/SIM800C蓝牙模块 通信距离 LORA模块&gt;3000m 芯片被锁死的解决方法 JLINK方法： STLINK方法： STM32 各系列芯片包固件包pack  STM32 One or more Device Family Pack Devices are not present解决方法 没有安装固件包，去下载并安装 MiniPro 支持的芯片类型 如果表格里有的类型，上位机没有，请更新上位机及烧录器至最新版本 Minipro 如何升级固件 串口如何烧写 烧录 下载 程序  指纹模块 ATK-301 权限验证 模块本身并无区分权限或者分类存储等功能，但可以通过程序判断指纹的ID来验证权限。 ESP8266如何烧写机智云GAgent固件  DS100示波器开源吗 不开源，网上有拆机分享 屏幕不亮 例程触摸屏实验之前的程序屏幕都是不亮的。 烧写触摸屏及以后的程序确认是否硬件问题。 ESP8266的FLASH大小 FLASH大小为4M字节 STM32芯片命名含义 举例:STM32 F 103 C 8 T 6“F”那一位指的是产品类型，现在似乎只有通用型即”F” “103”那位指的是产品子系列,101= 基本型,102 = USB基本型、USB 2.0全速设备，103 = 增强型，105或107 = 互联型 “C”那位指的是引脚数目，T=36脚，C=48脚，R=64脚，V=100脚，Z = 144脚 “8”那位指的是FLASH的大小，4=16K，6=32K，8=64K，B=128K，C=256K，D=384K，E=512K “T”那位指的是封装方式，H=BGA,T=LQFP,U=VFQFPN,Y=WLCSP64 “6”那位指的是温度范围，6=-4085摄氏度，7=-40105摄氏度 CH340驱动安装失败 CH340安装失败：1.使用USB线接上开发板的USB_232接口，开发板上电，再去安装CH340驱动看看2.安装这个.上一步不行的话使用驱动精灵去安装4.2不行的话禁用驱动数字签名，(WIN10)(WIN7)再去安装，到这一步一般就可以了。 编译工程出现找不到core_cm3.o文件 4个可能的原因：1.电脑系统用户名有中文字符,尝试修改电脑用户名的方法：安装目录有中文字符或者空格存在3.环境变量有问题，可以试试修改环境变量的方法：，4.第三步不行的话在第3步的基础上参考下面的方法设置 摄像头推荐 各系列开发板外围电路外设芯片资源 MDK 各版本软件安装包pack STM32打开工程报错“Loading PDSC Debug Description Failed for STMicroelectronics STM32Lxxxxxxx” 根本原因是keil版本比pack版本旧，版本不兼容。解决办法如下： 方法一：更新keil版本 方法二：参考修改keil文件 DTU、LTE、GPRS参数对比 KEIL4工程转到KEIL5 报错..\\CORE\\core_cm4.h(169): error: #5: cannot open source input file “core_cmInstr.h”: No such file or directory KEIL编译环境如何生成BIN格式文件 fromelf --bin -o &quot;$L@L.bin&quot; &quot;#L&quot; 大端格式和小端格式的区别  printf重定向到串口  DAP仿真器下载失败 STM32读保护三个等级的区别 1、Level 0（无保护） 默认设置，所有读写和擦除操作都可以正常支持。 2、Level 1 （Flash连接保护） （1）可以防止连接调试器时读取Flash内容，或者RAM中存有恶意获取代码，也是禁止的。 因此只要调试器连接芯片，或者从内部RAM启动运行代码，都是禁止访问内部Flash的. （2）如果没有检测到从内部RAM启动，从系统bootloader启动且没有连接调试器，对用户Flash的读写和擦除操作都是允许的，并且其它安全存储区也是可以访问的。否则是禁止访问的，一旦检测到对Flash的读请求，将产生总线错误。 （3）如果将Level 1切换到Level 0时，用户Flash区和安全区域将被删除。 3、Level 2（设备保护和自举保护） （1）所有调试特性被关系。（2）禁止从RAM启动。（3）除了选项字节里面的SWAP位可以配置，其它位都无法再更改。（4）禁止了调试功能，且禁止了从RAM和系统bootloader启动，用户Flash区是可以执行读写和擦除操作的，访问其它安全存储区也是可以的。 特别注意：Level2修改是永久性的，一旦配置为Level2将不再支持被修改。————————————————版权声明：本文为CSDN博主「Simon223」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。原文链接： STM32F429对RGB屏幕支持的分辨率限制 F429的LTDC最大支持1024*768分辨率的 FSMC和FMC的区别 FMC比FSMC多支持一个SDRAM ROM、RAM、DRAM、SRAM、SDRAM和FLASH的区别  陀螺仪和加速度计MPU6050的单位换算方法  探索者出现 EX Flash error  ST-LINK USB communication error解决方法  KEIL仿真STM32F103时停在Reset_Handler无法启动 断点打多了，超过4个了。删掉几个就可以了。 Keil 下载程序时出现错误： No Algorithm found for仿真器下载页面选择错下载芯片的FLASH了 UART与USART区别 USART：通用同步和异步收发器UART：通用异步收发器当进行异步通信时,这两者是没有区别的。区别在于USART比UART多了同步通信功能。这个同步通信功能可以把USART当做SPI来用，比如用USART来驱动SPI设备。 同步是指：发送方发出数据后，等接收方发回响应以后才发下一个数据包的通讯方式。异步是指：发送方发出数据后，不等接收方发回响应，接着发送下个数据包的通讯方式。 同步是阻塞模式，异步是非阻塞模式。 其中SPI IIC为同步通信 UART为异步通信, usart为同步&amp;异步通信。 单工、半双工、全双工 单工数据传输只支持数据在一个方向上传输； 半双工数据传输允许数据在两个方向上传输，但是，在某一时刻，只允许数据在一个方向上传输，它实际上是一种切换方向的单工通信； 全双工数据通信允许数据同时在两个方向上传输，因此，全双工通信是两个单工通信方式的结合，它要求发送设备和接收设备都有独立的接收和发送能力。I2C是半双工，SPI的全双工，uart是全双工。 具体参考 Symbol XXX multiply defined (by usart.o and main.o).解决方法 在括号内提示的两个.C文件里重复定义了 warning: function declared implicitly 函数隐式声明了，可能是没有把头文件include进来 STM32F407探索者的外部SPI FLASH W25Q128 是16M的为什么读卡器实验为12M 因为我们把W25Q128 16M字节划分了12M给文件系统，另外的内存用来存储字库图片等文件 给HC-05、WIFI模块等发AT指令 无响应 未回复OK 不要模块连接板子，串口调试助手给板子发指令 RX和TX接反了 未进入AT配置模式 串口调试助手没有勾选新行 串口波特率不对 模块固件出问题了，重新烧录固件 STM32F1 IO口驱动电流多大 拉电流和灌电流多大 拉电流为25ma，灌电流150ma。 拉电流就是IO口输出的电流，所有拉电流不能超过25ma。 灌电流就是IO口输入的电流，所有灌电流不能超过150ma。 波特率的传输速度计算 速率=波特率/10/1024（k/s） 波特率/10是因为一个字节八位，一个停止位一个数据位 LORA模块上位机参数保存 LORA模块的MD0接高电平进入配置模式，保存配置后，把MD0引脚悬空再断电上电才保存成功。 IMU901十轴参数 十轴的芯片：气压计：SPL06，磁力计：ak8963c，陀螺仪：icm20602，mcu: gd32e230 集成电路分别型号 KEIL5 状态栏 图标错乱怎么办 点击“Window-&gt; Reset View to Default” 弹出多选框：Reset： Reinitialize uvision windows with default layoutRestart： close project and restart uvision with default layout即为重置：使用默认布局重新初始化uvision窗口重置并重启：关闭项目并使用默认布局重新启动uvision窗口此处选“Reset”“重置”即可。 keil5的烧写按钮是灰色的 仿真器配置错误 keil调试过程中遇到Reprogramming flash 移植STM32F103C8T6 delay延时不准 1、因为stm32f103c8t6的启动文件没有调用SystemInit()，所以手动调用就行了 2、查看启动文件IMPORT SystemInit LDR R0, =SystemInit BLX R0这三句代码是否注释了，取消注释即可 3、查看system_stm32f10x.c 有没有定义VECT_TAB_SRAM这个宏，取消定义 declaration is incompatible with previous “FuncName” (declared at line XXX) 将该函数放在调用本函数的函数之前即可。 SIM800C的芯片IC 1418B02SIM800C32_BT printf打印遇到0会停止 因为\\0是字符串结束标志，而\\0的ASCII码值就是0，也就是null LORA模块传输数据的延迟 3000米延时2.4秒 FLASH扇区擦除无效 对FLASH进行擦除或者写操作时需要禁用数据缓存和解锁，可以参考FLASH模拟EEPROM的写入函数 Error: Flash Download failed - Could not load file ‘E:\\Temp\\Obj\\temp.axf 编译错误 没有破解MDK 重新覆盖安装KEIL Undefined symbol .c文件没有添加到工程里面 例程文件感叹号，文件找不到 目录太深了，把工程文件放到桌面上 RTC时钟不变 获取时间不准，需要日期也获取，否则时间寄存器不会更新 IIC死锁的原因及解决方法 当主设备SCL八次脉冲后，将SCL拉低等待从设备返回应答信号，从设备发出应答信号SDA拉低，此时如果主设备异常复位了，SCL被主设备拉高了，此时从设备还在发出应答信号，等待主设备将SCL拉低。所以主设备在等待IIC总线空闲，而从设备在等待主设备拉低SCL，因此进入了死锁 解决方法：参考  KEIL进行软件仿真的时候卡在LCD初始化 因为没有相应的内存映射，可能的原因是由于软件仿真没有分配相应的映射地址。 可以再keil软件的仿真状态下面点击菜单栏的Debug-》Memory Map，如下图添加缺少的内存映射值范围，如0x0000000c在0x00000000-0x0000000f之间。如下图： 可以参考 KEIL打开工程报错”Loading PDSC Debug Description Failed for STMicroelectronics STM32Lxxxxxxx” 这是因为keil版本比pack包版本旧，不兼容，更新keil或者把pack包换成旧的 STM32 中Code、RO-data、RW-data、ZI-data的含义 Code代表执行的代码，程序中所有的函数都位于此处。 RO-data代表只读数据，程序中所定义的全局常量数据和字符串都位于此处。 RW-data代表已初始化的读写数据，程序中定义并且初始化的全局变量和静态变量位于此处。 ZI-data 代表未初始化的读写数据，程序中定义了但没有初始化的全局变量和静态变量位于此处。 ROM（Flash） Size = Code＋RO-Data＋RW-Data； RAM Size = RW-Data＋ZI-Data； 为什么RW-Data既占FLASH又占ROM呢，因为RW的数据不能无中生有，先把变量的初值保存到了FLASH，等程序运行时再把初值从FLASH赋值到RAM中。 STM32F103RCT6移植到STM32F103C8T6注意事项 移植步骤 参考 开发板修改综合例程的图标在综合例程的mainui.c里面mui_icos_path_tbl结构体里面是应用图标的目录地址和文件名，可以在这里修改目录地址和文件，然后在把我们提供的SD卡根目录文件复制到SD卡里面，再把要修改的图标替换进去，更新到外部FLSH即可。 MPU9250如何驱动MPU9250是由MPU6050和AK8963构成，因此和MPU6050的驱动是一样的。 战舰V2资料 提取码：q73g STLINK可以通过stlinkreflash转成Jlinkstlinkreflash 北极星H750下载失败讲H750的外部FLASH下载算法放到 MDK5 安装目录→ARM→Flash 文件夹里面，然后在MDK里添加该算法，该算法在资料A盘里的软件资料里的MDK里 STLINK烧录失败汇总及解决方法  flymcu下载失败解决方法1、安装CH340驱动，并且连接上板子后设备管理器能识别到CH340的设备。 2、USB线连上板子的USB_232口，并且串口1的跳线帽要插好；或者USB转TTL模块连上芯片的串口1，板子上电。板子的boot1和boot0接GND 3、flymcu搜索串口后选择CH340的串口，STM32F1波特率随便设，F4波特率在38400以下。建议波特率不要设置太高，否则下载失败概率较大。 4、flymcu下边选择DTR低电平复位，RTS高电平进BootLoader。 5、flymcu勾选编程前重装文件、校验、编程后执行，其他统一不勾选。 6、flymcu点击开始编程，如果卡住的话，按一下板子的复位按键。还不行的话，把板子的boot0接3.3V，再次重新点击开始编程，复位。 SIM800C和SIM900A对比"},{"title":"Markdown语法笔记","date":"2021-04-08T03:07:00.000Z","url":"/2021/04/08/Markdown%E8%AF%AD%E6%B3%95%E7%AC%94%E8%AE%B0/","tags":[["Markdown","/tags/Markdown/"]],"categories":[["Markdown语法笔记","/categories/Markdown%E8%AF%AD%E6%B3%95%E7%AC%94%E8%AE%B0/"]],"content":" 标题 字体：粗斜体 删除线 下划线 列表：有序、无序、任务 脚注 图片 超链接 表格 代码块 区块引用 标题“标题”使用#来标记，例如一级标题就是： # 一级标题 ## 二级标题 二级标题三级标题四级标题以此类推 可使用= 和- 标记标题，该编辑器无 段落在字体的末尾加两个空格然后回车就是段落 在段落后面使用一个空喊表示重新开始一个段落 该编辑器无段落 字体_斜体_：斜体就是用一个个星号或者下划线包住字体 __粗体__：粗体就是用两个星号或者下划线包住字体 ___粗斜体___：粗斜体就是用三个星号或者下划线包住字体 删除字体：删除字体就是用两个波浪线包住字体 下划线字体:下划线文本是用HTML的《u》来实现 - []就是 任务列表 分割线就是一行用三个减号或者星号，行内不许有其他东西 脚注脚注的格式就是用[]包住^文本,例如春晓的作者是^杜甫。 该编辑器无脚注。 列表无序列表无序列表使用星号、加号或者减号作为标记，标记后面加一个空格 无序列表 可以嵌套 再嵌套 第二项 有序列表有序列表使用数字并加上.号来表示，后面加上空格 有序列表 第二项 第三项 嵌套有序列表 再嵌套 嵌套无序列表 再嵌套 有序列表 有序列表 可以嵌套无序列表 第二项 第二个元素 区块 区块引用是在段落开始使用&gt;符号即可 效果是这样子的 区块也是可以嵌套的 多次嵌套也是可以的 例如这样 区块 嵌套 还可以在里面嵌套列表和字体格式 挺不错 无序列表 也可以在列表中使用区块就像这样 无序列表 代码用反引号把代码包起来就是这个效果，printf() 反引号就是英文的波浪号` 链接可以通过点击蓝色字体而访问一个链接（网页），格式为，第一个[显示的字体]，(实际访问的链接) 例如这是百度 高级链接这是谷歌 该编辑器无高级链接 图片 如果要指定图片的高度与宽度（大小），可以使用HTML的标签 表格表格使用|来分割不同的单元格，使用-来分割表头和其他行 |表头|表头 | 表头 |||:–:|:–:||单元格|第二个单元||第三个|第四个| 高级技巧支持使用HTML元素该编辑器支持较少 转义需要显示特定的符号，可以使用反斜杠进行转义 斜体 *斜体* 公式如果需要插入数学公式，可以使用两个美元$$来实现，但是我不会。 流程图流程图太难了，暂时不学，鉴于其实用性，留下教程以便后续需要"},{"title":"首页","date":"2021-04-01T13:00:00.000Z","url":"/2021/04/01/index/","categories":[["杂谈","/categories/%E6%9D%82%E8%B0%88/"]],"content":"無話可説 不知道写什么，就这样先。 "}]